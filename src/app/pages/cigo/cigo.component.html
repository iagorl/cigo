<mat-progress-bar mode="determinate" [value]="progressValue"></mat-progress-bar>
<div class="cigo-container">
  <button mat-raised-button color="secondary" (click)="toggleSettingsForm()">
    <i class="material-icons">settings</i> Configurar
  </button>
  <div class="settingForm" *ngIf="showSettingForm">
    <mat-form-field class="full-width">
      <input matInput type="number" placeholder="Velocidad de transiciÃ³n" [(ngModel)]="form.timer" min="10">
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="saveTimer()">Actualizar</button>
    <!--<mat-form-field class="full-width">
      <input matInput type="number" placeholder="No. de horas a consultar" [(ngModel)]="form.rowNumber" min="10">
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="saveRowNumber()">Actualizar</button>-->
  </div>
  <div class="header-container">
    <div class="subtitle-container">
      <div class="name-tab">
        <h3>{{title}}</h3>
        <div class="title-date" *ngIf="title_from && title_to">
          <div><small><b>Desde</b> {{title_from}}</small></div>
          <div><small><b>Hasta</b> {{title_to}}</small></div>
        </div>
      </div>

      <div *ngIf="selectedFilter==='PRIM' || selectedFilter==='PRIM DOS'" class="total-tab">
        <div class="tons">
          <h3>Total Tons</h3>
          <h3>{{totalTons}}</h3>
        </div>
        <div class="viajes">
          <h3>Total Viajes</h3>
          <h3>{{totalViajes}}</h3>
        </div>
      </div>
      <div *ngIf="selectedFilter==='CF' || selectedFilter==='LB'" class="total-tab">
        <div class="tons">
          <h3>Total Alimentaci&oacute;n</h3>
          <h3>{{totalAlimentacion.toFixed(2)}}</h3>
        </div>
        <div class="viajes">
          <h3>Total Tratamiento</h3>
          <h3>{{totalTratamiento.toFixed(2)}}</h3>
        </div>
      </div>
    </div>
  </div>
  <div class="body-container" *ngIf="showTable">
    <div class="table-container first" >
      <div class="table-sub-container">
        <div class="table-field">
            <table style="width:100%">
                <tr>
                  <th *ngFor="let col of columnSet.columns">
                    {{col.name}}
                  </th>
                </tr>
                <tr *ngFor="let row of firstData; let i = index">
                  <td *ngFor="let col of columnSet.columns">
                    <strong *ngIf="i === firstData.length - 1">{{row[col.value]}}</strong>
                    <span *ngIf="i < firstData.length - 1">{{row[col.value]}}</span>
                  </td>
                </tr>
            </table>
        </div>
        <div class="chart-container">
          <div class="chart">
            <ngx-charts-line-chart
              [view]="view"
              [scheme]="colorScheme"
              [results]="firstTableData"
              [gradient]="false"
              [xAxis]="false"
              [yAxis]="false"
              [legend]="false"
              [showXAxisLabel]="false"
              [showYAxisLabel]="false"
              [autoScale]="true"
              (select)="onSelect($event)">
            </ngx-charts-line-chart>
          </div>
          </div>
      </div>
    </div>
    <div class="table-container second">
      <div class="table-sub-container">
        <div class="table-field">
            <table style="width:100%">
                <tr>
                  <th *ngFor="let col of columnSet.columns2">
                    {{col.name}}
                  </th>
                </tr>
                <tr *ngFor="let row of firstData; let i = index">
                  <td *ngFor="let col of columnSet.columns2">
                    <strong *ngIf="i === firstData.length - 1">{{row[col.value]}}</strong>
                    <span *ngIf="i < firstData.length - 1">{{row[col.value]}}</span>
                  </td>
                </tr>
            </table>
        </div>
        <div class="chart-container">
          <div class="chart">
            <ngx-charts-line-chart
              [view]="view"
              [scheme]="colorScheme"
              [results]="secondTableData"
              [gradient]="false"
              [xAxis]="false"
              [yAxis]="false"
              [legend]="false"
              [showXAxisLabel]="false"
              [showYAxisLabel]="false"
              [autoScale]="true"
              (select)="onSelect($event)">
            </ngx-charts-line-chart>
          </div>
        </div>
      </div>
    </div>
    <div class="table-container last">
      <div class="table-sub-container">
        <table style="width:100%">
            <tr>
              <th *ngFor="let col of columnSet.columns3">
                {{col.name}}
              </th>
            </tr>
            <tr *ngFor="let row of firstData; let i = index">
              <td *ngFor="let col of columnSet.columns3">
                <strong *ngIf="i === firstData.length - 1">{{row[col.value]}}</strong>
                <span *ngIf="i < firstData.length - 1">{{row[col.value]}}</span>
              </td>
            </tr>
        </table>
      </div>
    </div>
  </div>
  <div class="table-message" *ngIf="firstData.length <= 1">
    <h3>No hay datos disponibles</h3>
  </div>
</div>
